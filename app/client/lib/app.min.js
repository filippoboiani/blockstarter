angular.module("EasyRashApp.api",["EasyRashApp.config"]).factory("Api",["$http","CONFIG","$window","$timeout","$q",function(n,t,e,r,u){var i=this;return i.getUsers=function(){return n.get(t.endpoint+t.users).then(function(n){return n.data},function(n){return n})},i.getCurrentUser=function(){return n.get(t.endpoint+t.userinfo).then(function(n){return n.data},function(n){return n})},i.getEvents=function(){return n.get(t.endpoint+t.events).then(function(n){return n.data},function(n){return n})},i.getEvent=function(e){return n.get(t.endpoint+t.event+"/"+e).then(function(n){return n.data},function(n){return n})},i.getArticle=function(e,r){return"processed"===r?n.get(t.endpoint+t.article+"/"+e).then(function(n){return n.data},function(n){return n}):n.get(t.endpoint+t.raw_article+"/"+e).then(function(n){return n.data},function(n){return n})},i.getArticlesToReview=function(){return n.get(t.endpoint+t.doclist).then(function(n){return n.data},function(n){return n})},i.saveAnnotations=function(e){return n.post(t.endpoint+t.save_annotations+"/"+e.articleName,e).then(function(n){return n.data},function(n){return n})},i.saveDecision=function(e){return n.post(t.endpoint+t.save_decision+"/"+e.articleName,e).then(function(n){return n.data},function(n){return n})},i.updateUser=function(e){return n.post(t.endpoint+t.updateUser,e).then(function(n){return n},function(n){return n})},i}]);
angular.module("EasyRashApp.config",[]).constant("CONFIG",{appVersion:"1.5.0",base_url:"http://localhost:8080",endpoint:"/api",users:"/users",user:"/user",articles:"/articles",article:"/article",raw_article:"/raw-article",event:"/event",events:"/events",register:"/signup",login:"/authenticate",userinfo:"/memberinfo",doclist:"/doclist",save_annotations:"/save-annotations",save_decision:"/save-decision",updateUser:"/userUpdate"});
angular.module("EasyRashApp.appUtils",[]).factory("AppService",function(){var t=function(){},e=function(){},n=function(t){this.type="review",this.id=null,this.article=t,this.comments=new Map;var e=function(t){return"review1"};return{pushComment:function(t){return t.setId(e(t)),comments.set(t.getId(),t),t},getComment:function(t){return comments.get(t)},deleteComment:function(t){comments["delete"](t)}}},i=function(t,e,n){return this.id=null,this.text=e,this.ref=t,this.author=n,this.date=new Date,{setId:function(t){this.id=t},getId:function(){return this.id},setText:function(t){this.text=t}}};return{Comment:i,Review:n,Article:e,Person:t}});
angular.module("EasyRashApp",["ngRoute","ngSanitize","mgcrea.ngStrap","ui.bootstrap","EasyRashApp.config","EasyRashApp.controllers","EasyRashApp.authServices","EasyRashApp.api","EasyRashApp.interfaceUtils"]).run(["$rootScope","AuthService","AUTH_EVENTS","$window",function(t,e,r,n){console.info("EasyRashApp is running! Gotta catch'em all!"),t.$on("$routeChangeSuccess",function(e,r,n){"RegisterCtrl"===r.$$route.controller||"LoginCtrl"===r.$$route.controller?(t.navbar=!1,t.footerbar=!1):"AnnotatorCtrl"===r.$$route.controller?(t.navbar=!0,t.footerbar=!1):(t.navbar=!0,t.footerbar=!0)}),t.$on("$stateChangeStart",function(t,r,n,o){e.isAuthenticated()||"outside.login"!==r.name&&"outside.register"!==r.name&&(t.preventDefault(),window.location.href="/login")})}]).config(["$routeProvider","$httpProvider",function(t,e){t.when("/dash",{templateUrl:"templates/dash.html",controller:"DashCtrl"}).when("/annotation-page/:articleId",{templateUrl:"templates/annotation-page.html",controller:"AnnotatorCtrl"}).when("/account",{templateUrl:"templates/account.html",controller:"AccountCtrl"}).when("/login",{templateUrl:"templates/login.html",controller:"LoginCtrl"}).when("/register",{templateUrl:"templates/register.html",controller:"RegisterCtrl"}).when("/events",{templateUrl:"templates/events.html",controller:"EventsCtrl"}).when("/event/:eventId",{templateUrl:"templates/event.html",controller:"EventCtrl"}).when("/help",{templateUrl:"templates/manual.html"}).otherwise({redirectTo:"/login"}),e.interceptors.push("AuthInterceptor")}]);
angular.module("EasyRashApp.authServices",["EasyRashApp.config"]).factory("$localStorage",["$window",function(t){return{set:function(n,o){t.localStorage[n]=o},get:function(n,o){return t.localStorage[n]||o},setObject:function(n,o){t.localStorage[n]=JSON.stringify(o)},getObject:function(n){return JSON.parse(t.localStorage[n]||"{}")},remove:function(n){return t.localStorage.removeItem(n)}}}]).service("AuthService",["$q","$http","CONFIG","AUTH_EVENTS","$localStorage",function(t,n,o,e,r){function a(){var t=r.get(f);t&&u(t)}function c(t){r.set(f,t),u(t)}function u(t){g=!0,s=t,n.defaults.headers.common.Authorization=s}function i(){s=void 0,g=!1,n.defaults.headers.common.Authorization=void 0,r.remove(f)}var s,f="EasyRashToken",g=!1,d=function(e){return t(function(t,r){n.post(o.endpoint+o.register,e).then(function(n){n.data.success?t(n.data.msg):r(n.data.msg)})})},l=function(e){return t(function(t,r){n.post(o.endpoint+o.login,e).then(function(n){n.data.success?(c(n.data.token),t(n.data.msg)):r(n.data.msg)})})},h=function(){i()};return a(),{login:l,register:d,logout:h,isAuthenticated:function(){return g}}}]).factory("AuthInterceptor",["$rootScope","$q","AUTH_EVENTS",function(t,n,o){return{responseError:function(e){return t.$broadcast({401:o.notAuthenticated,403:o.notAuthorized}[e.status],e),n.reject(e)}}}]).config(["$httpProvider",function(t){t.interceptors.push("AuthInterceptor")}]);
angular.module("EasyRashApp.config",[]).constant("AUTH_EVENTS",{notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}).constant("CONFIG",{appVersion:"1.5.0",base_url:"http://localhost:8080",endpoint:"/api",users:"/users",user:"/user",articles:"/articles",article:"/article",raw_article:"/raw-article",event:"/event",events:"/events",register:"/signup",login:"/authenticate",userinfo:"/memberinfo",doclist:"/doclist",save_annotations:"/save-annotations",save_decision:"/save-decision",updateUser:"/userUpdate"});
angular.module("EasyRashApp.controllers",[]).controller("AppCtrl",["$scope","Api","$rootScope","$http","CONFIG","$window","AuthService","AUTH_EVENTS",function(e,t,n,o,r,i,a,s){n.getUser=function(e){t.getCurrentUser().then(function(t){t.success===!0?(n.userMsg=t.msg,n.userInfo=t.data):(n.userMsg=t.msg,n.userInfo={}),e&&e()})},n.getUser(),e.$on(s.notAuthenticated,function(e){a.logout(),i.location.href="/#/login"}),e.logout=function(){a.logout(),i.location.href="/#/login"}}]).controller("DashCtrl",["$scope","Api",function(e,t){t.getArticlesToReview().then(function(t){e.submissions=t.data}),t.getEvents().then(function(t){e.events=t})}]).controller("AnnotatorCtrl",["$scope","$rootScope","$routeParams","$document","$sce","$location","$uibModal","$anchorScroll","$timeout","$compile","Api",function(e,t,n,o,r,a,s,l,c,m,u){function d(){this["@context"]="http://vitali.web.cs.unibo.it/twiki/pub/TechWeb16/context.json",this["@type"]="person",this["@id"]="mailto:"+e.reviewer.email,this.name=e.reviewer.given_name+" "+e.reviewer.family_name,this.as={"@id":"#role1","@type":"role",role_type:"pro:reviewer","in":""}}function h(){this["@context"]="http://vitali.web.cs.unibo.it/twiki/pub/TechWeb16/context.json",this["@type"]="review",this["@id"]="#review"+e.reviewCounter,this.article={"@id":"",eval:{"@id":this["@id"]+"-eval","@type":"score",status:"",comment:"",rank:"",author:"mailto:"+e.reviewer.email,date:(new Date).toISOString()}},this.comments=new Array}function g(t,n){this["@context"]="http://vitali.web.cs.unibo.it/twiki/pub/TechWeb16/context.json",this["@type"]="comment",this["@id"]=null,this.text=n,this.ref=t,this.author="mailto:"+e.reviewer.email,this.date=(new Date).toISOString()}function f(){this["@context"]="http://vitali.web.cs.unibo.it/twiki/pub/TechWeb16/context.json",this["@type"]="decision",this["@id"]="#decision"+e.decisionCounter,this.article={"@id":"",eval:{"@id":this["@id"]+"-eval","@type":"score",status:"",comment:"",rank:"",author:"mailto:"+e.reviewer.email,date:(new Date).toISOString()}}}function v(){u.getArticlesToReview().then(function(t){e.submissions=t.data})}function p(){u.getArticle(n.articleId,"processed").then(function(t){if(e.annotatorMode=!1,t.success){var n=b.parseFromString(t.data,"text/html"),o=n.querySelectorAll('[type="application/ld+json"]'),a=n.getElementsByTagName("body")[0];e.isChair=t.chair,e.isReviewer=t.reviewer,e.isPcMember=t.pcMember,e.totalAssignedReviewers=t.numRevs,e.totalChairs=t.numChairs,t.reviewer&&(e.canReview=!0),t.chair&&(e.canDecide=!0,e.canReview=!1),e.loading=!1,e.articleBody=r.trustAsHtml(a.innerHTML);var s=new Array;for(i=0;i<o.length;i++)s.push(JSON.parse(o[i].textContent));for(S=new Array,k=new Array,chairDecision=null,D.avgVote=0,i=0;i<s.length;i++){var l=s[i];for(j=0;j<l.length;j++)switch(l[j]["@type"]){case"comment":l[j].refText=a.querySelectorAll(l[j].ref)[0]?a.querySelectorAll(l[j].ref)[0].innerText:"Error: no Reference detected",S.push(l[j]);break;case"review":l[j].article.eval.author==="mailto:"+e.reviewer.email&&(e.canReview=!1,e.alreadyReviewed=!0),k.push(l[j]),D.avgVote+=parseInt(l[j].article.eval.rank),"pso:accepted-for-publication"===l[j].article.eval.status?D.numAccept++:D.numReject++;break;case"decision":l[j].article.eval.author==="mailto:"+e.reviewer.email&&(e.canDecide=!1,e.alreadyDecided=!0),chairDecision=l[j]}}0==D.avgVote||0==k.length?D.avgVote="No Vote":D.avgVote=D.avgVote/k.length,e.articleStats=D,e.reviewCounter=k.length,k.length>=t.numRevs?e.canDecide=!0:e.canDecide=!1,e.commentCounter=S.length,e.decisionCounter=1,e.commentsList=S,e.reviewsList=k,e.chairDecision=chairDecision}else e.loading=!1,e.articleBody=r.trustAsHtml('<h1>Ops... something went wrong.</h1><p>This file seems to be not present...<br>A large team of Pokemon Trainers is working hard on it. In the meantime, gotta catch\'em all!</p><p>Return to <a href="/#/dash">dashboard</a>.</p>')})}function w(){var e=$("#article-container");return e.find("*").each(function(e){$(this).attr("id")&&($(this).attr("id").startsWith("para-")||$(this).attr("id").startsWith("fragment"))&&($(this).removeClass("highlight"),$(this).removeClass("yellow"),$(this).removeClass("blue"),$(this).removeClass("purple"),$(this).removeClass("orange"),$(this).removeClass("green"),$(this).removeClass("ng-scope"),$(this).removeAttr("data-toggle"),$(this).removeAttr("data-target"),$(this).removeAttr("ng-click"))}),e.html()}function C(){return window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:void 0}function A(){$('#article-container p[id^="para-"]').each(function(e){var t=parseInt($(this).attr("id").split("-")[1]);t>T&&(T=t)});var e="para-"+(T+1);return e}function y(){$('#article-container span[id^="fragment-"]').each(function(e){var t=parseInt($(this).attr("id").split("-")[1]);t>E&&(E=t)});var e="fragment-"+(E+1);return e}function I(t){e.error=!0,e.message=t}e.loading=!0;var b=new DOMParser,x=null,S=null,k=null;t.getUser(function(){e.reviewer=t.userInfo,v(),p()}),e.annotatorMode=!1,e.canReview=!1,e.canDecide=!1,e.alreadyDecided=!1,e.alreadyReviewed=!1,e.selectionColor="yellow",e.sidebarClosed=null;var R=["yellow","orange","purple","blue","green"];e.eval={},e.rating=0,e.eval.vote={current:1,max:5};var D={};D.avgVote=0,D.numAccept=0,D.numReject=0,e.setColor=function(t){e.selectionColor=t},e.toggleSidebar=function(){e.sidebarClosed=e.sidebarClosed?null:"sidebar-closed"},d.prototype={setChairRole:function(){this.as={"@id":"#role2","@type":"role",role_type:"pro:chair","in":""}}},h.prototype={generateId:function(t){return e.commentCounter++,this["@id"]+"-c"+e.commentCounter},pushComment:function(e){if(e["@id"]){for(var t=0,n=0;n<this.comments.length;n++)this.comments[n].key==e.getRef()&&(t=n);this.comments.splice(t,1,{key:e.getRef(),value:e})}else e.setId(this.generateId(e)),this.comments.push({key:e.getRef(),value:e});return e},getComment:function(e){for(var t=0;t<this.comments.length;t++)if(this.comments[t].key==e)return this.comments[t].value},deleteComment:function(e){for(var t=0;t<this.comments.length;t++)this.comments[t].key==e&&this.comments.splice(t,1)},evaluateArticle:function(e,t,n){e===!0?this.article.eval.status="pso:accepted-for-publication":this.article.eval.status="pso:rejected-for-publication";var o=parseInt(t);o>=1&&o<6&&(this.article.eval.rank=o),this.article.eval.comment=n},generateJsonLD:function(){var e=new Array,t={};t["@context"]=this["@context"],t["@type"]=this["@type"],t["@id"]=this["@id"],t.article=this.article,t.comments=new Array;for(var n=0;n<this.comments.length;n++)t.comments.push(this.comments[n].value["@id"]),e.push(this.comments[n].value);return e.unshift(t),e.push(new d),e}},g.prototype={setId:function(e){this["@id"]=e},getId:function(){return this["@id"]},setText:function(e){this.text=e},getText:function(){return this.text},getRef:function(){return this.ref}},f.prototype={evaluateArticle:function(e,t,n){e===!0?this.article.eval.status="pso:accepted-for-publication":this.article.eval.status="pso:rejected-for-publication";var o=parseInt(t);o>=1&&o<6&&(this.article.eval.rank=o),this.article.eval.comment=n},generateJsonLD:function(){var e=new Array,t=new d;return t.setChairRole(),e.push(this),e.push(t),e}};var M=!0;e.showAllComments=function(){var e="",t=0;if(M){M=!1;for(var n=0;n<S.length;n++){var o=S[n].ref;S[n].author!==e&&(e=S[n].author,t=R[parseInt(5*Math.random())]),$("#article-container "+o).addClass("highlight "+t)}}else{M=!0;for(var n=0;n<S.length;n++){var o=S[n].ref;$("#article-container "+o).removeClass("highlight");for(var r=0;r<R.length;r++)$("#article-container "+o).removeClass(R[r])}}},e.$on("$locationChangeStart",function(e){if(x&&x.comments.length>0){var t=confirm("You have unsaved content. If you leave the page all your work will be lost.\nAre you sure to exit?");t||e.preventDefault()}}),e.loadRash=function(){u.getArticle(n.articleId,"unprocessed").then(function(t){t.success?(e.annotatorMode=!0,x=new h,e.articleBody=r.trustAsHtml(t.data.body)):I(t.message)})},e.saveDecision=function(t){var o=new f;if(t.text&&void 0!==t.status&&!isNaN(e.articleStats.avgVote)){o.evaluateArticle(t.status,e.articleStats.avgVote,t.text);var r={};r.articleName=n.articleId,r.decision=o.generateJsonLD(),e.canDecide&&!e.alreadyDecided&&u.saveDecision(r).then(function(e){p()})}},e.saveAnnotations=function(){if(x&&x.comments.length>0)if(""!==x.article.eval.status){var e={};e.annotations=x.generateJsonLD(),e.article=w(),e.articleName=n.articleId,u.saveAnnotations(e).then(function(e){x=null,p()})}else I("You must accept or reject the article before saving your annotations.");else I("No comments.")},e.exit=function(){if(x&&x.comments.length>0){var e=confirm("You have unsaved content. If you leave the page all your work will be lost.\nAre you sure to exit?");e&&(x=null,p())}else p()},e.saveComment=function(e){if(e.text){var t=x.getComment(e.fragmentId);t?t.setText(e.text):t=new g(e.fragmentId,e.text),x.pushComment(t)}},e.deleteComment=function(e){for(var t=!1,n=e.fragmentId.indexOf("fragment")>-1,o=0;o<S.length;o++)S[o].ref===e.fragmentId&&(t=!0);t?($(e.fragmentId).removeClass(),$(e.fragmentId).removeClass("highlight"),$(e.fragmentId).removeAttr("data-toggle"),$(e.fragmentId).removeAttr("data-target"),$(e.fragmentId).removeAttr("ng-click")):n?$(e.fragmentId).replaceWith(function(){return $(this).contents()}):($(e.fragmentId).removeClass(),$(e.fragmentId).removeClass("highlight"),$(e.fragmentId).removeAttr("data-toggle"),$(e.fragmentId).removeAttr("data-target"),$(e.fragmentId).removeAttr("ng-click")),x.deleteComment(e.fragmentId)},e.cancel=function(e){var t=x.getComment(e.fragmentId);if(!t){var n=!1,o=e.fragmentId.indexOf("fragment")>-1;if(S.length>0){for(var r=0;r<S.length;r++)if(S[r].ref===e.fragmentId){n=!0;break}}else n=!1;n?($(e.fragmentId).removeClass("highlight"),$(e.fragmentId).removeAttr("data-toggle"),$(e.fragmentId).removeAttr("data-target"),$(e.fragmentId).removeAttr("ng-click")):o?$(e.fragmentId).replaceWith(function(){return $(this).contents()}):($(e.fragmentId).removeClass("highlight"),$(e.fragmentId).removeAttr("data-toggle"),$(e.fragmentId).removeAttr("data-target"),$(e.fragmentId).removeAttr("ng-click"))}},e.setupCommentOnModal=function(t){e.commentModal={};var n=x.getComment(t);n?(e.commentModal.fragmentId=n.ref,e.commentModal.text=n.text):(e.commentModal.fragmentId=t,e.commentModal.text="")},e.saveEval=function(e){e.comment&&void 0!==e.status&&e.vote.current&&x.evaluateArticle(e.status,e.vote.current,e.comment)},e.showComments=function(){e.cs=x.comments},e.showSelection=function(t){$(e.commentsList[t].ref).addClass("highlight")},e.hideSelection=function(t){$(e.commentsList[t].ref).removeClass("highlight")},e.scrollTo=function(e){a.hash(e),l()},e.highlight=function(){var t=C(),n=null;if(t.toString().length>2){n=t.getRangeAt(0),n.startPoint=t.anchorOffset,n.endPoint=t.extentOffset;var o=n.commonAncestorContainer;if("P"===n.commonAncestorContainer.parentElement.nodeName&&(o=o.parentElement),"P"===o.nodeName&&n.startPoint<2&&o.innerText.toString().length-n.toString().length<4){var r=null,i=null;i="#text"===o.nodeName?$(o.parentElement):$(o),r=i.attr("id"),r||(r=A(),i.attr("id",r)),i.addClass("highlight"),i.addClass(e.selectionColor),i.attr("data-toggle","modal"),i.attr("data-target","#comment-modal"),i.attr("ng-click",'setupCommentOnModal("#'+r+'")'),$("#comment-modal").modal("show"),e.setupCommentOnModal("#"+r)}else if("SPAN"!==o.nodeName&&"SPAN"!==o.parentElement.nodeName||0!=n.startPoint||o.parentElement.innerText.length-n.toString().length!=0){var a=document.createElement("span"),s=y();a.setAttribute("id",s),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target","#comment-modal"),a.setAttribute("ng-click",'setupCommentOnModal("#'+s+'")'),a.setAttribute("class","highlight"),a.className+=" "+e.selectionColor,m(a)(e);try{n.surroundContents(a),$("#comment-modal").modal("show"),e.setupCommentOnModal("#"+s)}catch(l){I("This selection is not allowed!")}}else{var s=null,i=null;i="#text"===o.nodeName?$(o.parentElement):$(o),s=i.attr("id"),s||(s=y(),i.attr("id",s)),i.addClass("highlight"),i.addClass(e.selectionColor),i.attr("data-toggle","modal"),i.attr("data-target","#comment-modal"),i.attr("ng-click",'setupCommentOnModal("#'+s+'")'),$("#comment-modal").modal("show"),e.setupCommentOnModal("#"+s)}}else I("The selection is too short to be meaningful")};var T=0,E=0;e.hideErrors=function(){e.error=!1,e.message=""}}]).controller("LoginCtrl",["$scope","AuthService","$rootScope","$window",function(e,t,n,o){n.navbar=!1,t.isAuthenticated()===!0&&(o.location.href="/#/dash"),e.user={email:"",pass:""},e.login=function(){t.login(e.user).then(function(e){o.location.reload()},function(t){e.error=t})}}]).controller("RegisterCtrl",["$scope","$rootScope","$timeout","$location","$window","AuthService",function(e,t,n,o,r,i){t.navbar=!1,i.isAuthenticated()===!0&&(r.location.href="/#/dash"),e.user={email:"",pass:"",given_name:"",family_name:"",sex:""},e.signup=function(){i.register(e.user).then(function(t){e.info="Registered successfully!\nCheck your email to confirm.",n(function(){o.path("/#/login")},3e3)},function(t){e.error=t})}}]).controller("EventsCtrl",["$scope","Api",function(e,t){t.getEvents().then(function(t){e.eventsList=t})}]).controller("EventCtrl",["$scope","$routeParams","Api",function(e,t,n){n.getEvent(t.eventId).then(function(t){e.eventInfo=t})}]).controller("AccountCtrl",["$scope","$rootScope","Api",function(e,t,n){function o(t){e.info=!0,e.message=t}t.getUser(),e.clicked=!1,e.user=t.userInfo,e.update=function(t){void 0===typeof t.oldPass||""===t.oldPass?o("You must insert your password to update your informations!"):n.updateUser(t).then(function(t){t.data.success===!0?(e.user=t.config.data,e.clicked=!1):o(t.data.msg)})},e.undo=function(){window.location.reload()},e.edit=function(){e.user.oldPass="",e.user.newPass="",e.clicked=!0},e.hideInfo=function(){e.info=!1,e.message=""}}]);
angular.module("EasyRashApp.interfaceUtils",[]).filter("cut",function(){return function(e,t,n,i){if(!e)return"";if(n=parseInt(n,10),!n)return e;if(e.length<=n)return e;if(e=e.substr(0,n),t){var a=e.lastIndexOf(" ");a!=-1&&(e=e.substr(0,a))}return e+(i||" â€¦")}}).directive("scrollToItem",function(){return{restrict:"A",scope:{scrollTo:"@"},link:function(e,t,n){t.on("click",function(){$("html,body").animate({scrollTop:$(e.scrollTo).offset().top-100},"slow")})}}}).directive("starRating",function(){return{restrict:"A",template:'<ul class="rating"><li ng-repeat="star in stars" ng-class="star" ng-click="toggle($index)"></li></ul>',scope:{ratingValue:"=",max:"=",onRatingSelected:"&"},link:function(e,t,n){var i=function(){e.stars=[];for(var t=0;t<e.max;t++)e.stars.push({filled:t<e.ratingValue})};e.toggle=function(t){e.ratingValue=t+1,e.onRatingSelected({rating:t+1})},e.$watch("ratingValue",function(e,t){t&&i()})}}}).directive("particles",["$window",function(e){var t={particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:"#feb131"},shape:{type:"circle",stroke:{width:0,color:"#000000"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:2,direction:"none",random:!1,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:"window",events:{onhover:{enable:!0,mode:"grab"},onclick:{enable:!0,mode:"push"},resize:!0},modes:{grab:{distance:100,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:100,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0};return{restrict:"A",replace:!0,template:'<div class="particleJs" id="particleJs"></div>',link:function(n,i,a,r){e.particlesJS("particleJs",t)}}}]);